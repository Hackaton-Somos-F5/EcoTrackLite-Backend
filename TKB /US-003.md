# HU-B03 · Sistema de alertas activas

**Como** responsable de residuos del centro  
**Quiero** consultar qué tipos han superado su límite  
**Para que** pueda tomar acción antes de que el problema se agrave.

---

## Criterios de Aceptación

-  **Endpoint:** `GET /alertas` devuelve la lista de alertas activas en ese momento.
- [ ] **Estructura:** Cada alerta incluye `tipo`, `volumen_actual`, `umbral` y `mensaje` descriptivo.
- [ ] **Estado vacío:** Si no hay alertas, devuelve una lista vacía `[]` (código 200), no un error.
- [ ] **Reutilización:** Usa la función `calcular_alertas()` del servicio sin duplicar la lógica de cálculo.
- [ ] **Formato de respuesta esperado:**
  ```json
  [
    { 
      "tipo": "papel", 
      "volumen_actual": 95.0, 
      "umbral": 80.0, 
      "mensaje": "Alerta: El tipo papel ha superado el umbral permitido." 
    }
  ]

## Tareas:
| Código | Nombre |Estado |
|--------|--------|--------|
| **TK-003-01** | Crear routes/alertas.py con router FastAPI|Pendiente|
| **TK-003-02** | Implementar GET /alertas llamando a calcular_alertas(db)|Pendiente|
| **TK-003-03** | Definir schema AlertaResponse con Pydantic|Pendiente|
| **TK-003-04** | Registrar el router en main.py con prefijo /alertas |Pendiente|
| **TK-003-05** | Probar en /docs con datos que superen y no superen umbrales|Pendiente|