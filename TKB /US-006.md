# HU-B06 · Tests de alertas y resumen

**Como** desarrollador backend  
**Quiero** tener tests automatizados para `GET /resumen` y `GET /alertas`  
**Para** garantizar que la lógica de negocio es correcta y alcanzar el 75% de cobertura.

---

##  Criterios de Aceptación

-  **Entorno de Pruebas:** Los tests deben utilizar la misma base de datos en memoria definida en el `conftest.py` (Persona A).
-  **Validación de Resumen:** - El test debe verificar que se devuelven volúmenes correctos agrupados por tipo.
    - Tipos de residuos sin datos registrados deben devolver `0`, no omitirse ni dar error.
-  **Validación de Alertas:**
    - Debe devolver una lista vacía `[]` si ningún tipo supera su umbral configurado.
    - Debe devolver el objeto de alerta correcto cuando un tipo supera su límite.
-  **Métrica de Calidad:** La ejecución de `pytest --cov` debe reflejar una cobertura igual o superior al 75%.

---

##  Tareas

| Código | Nombre | Estado |
| :--- | :--- | :--- |
| **TK-006-01** | Crear `tests/test_resumen.py` | Pendiente |
| **TK-006-02** | Escribir `test_resumen_con_datos` y `test_resumen_sin_datos` | Pendiente |
| **TK-006-03** | Crear `tests/test_alertas.py` | Pendiente |
| **TK-006-04** | Escribir `test_alertas_sin_superar_umbral` | Pendiente |
| **TK-006-05** | Escribir `test_alertas_con_umbral_superado` | Pendiente |
| **TK-006-06** | Ejecutar `pytest --cov=. --cov-report=term-missing` y revisar cobertura | Pendiente |

---
