# Historia de Usuario US-007

## Dashboard y Estadísticas del Colegio
**Como** gestor del colegio
**Quiero** ver el consumo de volumen respecto al umbral definido para cada tipo de residuo
**Para** evitar que los contenedores se desborden.

## Criterios de Aceptación

- Existe el endpoint `GET /colegios/{colegio_id}/stats`
- Cruza datos de las tablas `residuos` y `alertas`:
    - Calcula la suma de `volumen_litros` por `tipo` para residuos "pendiente"
    - Compara esa suma con el `umbral_volumen` de la tabla `alertas` para ese `tipo_residuo`
    - Calcula el `%` de ocupación
- La respuesta incluye:
    - `colegio_nombre` (de la tabla `colegios`)
    - Lista de estadísticas por tipo (total_kg, total_litros, umbral, porcentaje_uso)

## Tareas

| Código | Nombre |
|--------|--------|
| TK-007-01 | Implementar agregaciones SQL (SUM) sobre la tabla `residuos` |
| TK-007-02 | Obtener los umbrales de la tabla `alertas` para el colegio |
| TK-007-03 | Calcular el porcentaje de uso (volumen_actual / umbral_volumen * 100) |
| TK-007-04 | Verificar que el endpoint devuelva los nombres correctos de los colegios |
